{"ast":null,"code":"import _classCallCheck from\"/Users/lgedeon/Repos/personal/stimpy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lgedeon/Repos/personal/stimpy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/lgedeon/Repos/personal/stimpy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/lgedeon/Repos/personal/stimpy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{withRouter}from'react-router-dom';import{TASKS}from'../constants.js';import{StyledListTasks,StyledTask}from'./styled.jsx';import{SECTIONS}from'../constants.js';import*as services from'../utils/services.js';var ListTasks=/*#__PURE__*/function(_React$Component){_inherits(ListTasks,_React$Component);var _super=_createSuper(ListTasks);function ListTasks(props){var _this;_classCallCheck(this,ListTasks);_this=_super.call(this,props);_this.onRepairWheel=function(e){var _this$props=_this.props,car=_this$props.car,mechanic=_this$props.mechanic,position=_this$props.position,setError=_this$props.setError,showTasks=_this$props.showTasks,setLoading=_this$props.setLoading,setScore=_this$props.setScore;showTasks(false);setLoading(true);services.actionWheels(car.id,mechanic,position,e.target.innerText.toLowerCase()).then(function(response){_this.onUpdate(response.data);setScore(5);}).catch(function(error){return setError(\"(\".concat(error.response.data.code,\") - \").concat(error.response.data.message));}).finally(function(){return setLoading(false);});};_this.state={};return _this;}_createClass(ListTasks,[{key:\"onUpdate\",value:function onUpdate(data){var _this2=this;var _this$props2=this.props,car=_this$props2.car,setStatus=_this$props2.setStatus,setError=_this$props2.setError;setError(null);setStatus(data);services.checkCar(car.id).then(function(status){status.data.ready&&_this2.props.history.push(SECTIONS[2]);});}},{key:\"render\",value:function render(){var _this3=this;var wheel_tasks=this.props.wheel_tasks;return/*#__PURE__*/React.createElement(StyledListTasks,null,wheel_tasks&&TASKS.map(function(task,i){return/*#__PURE__*/React.createElement(StyledTask,{key:i,onClick:_this3.onRepairWheel,data:task},task);}));}}]);return ListTasks;}(React.Component);export default withRouter(ListTasks);","map":{"version":3,"sources":["/Users/lgedeon/Repos/personal/stimpy/src/ListTasks/presentational.jsx"],"names":["React","withRouter","TASKS","StyledListTasks","StyledTask","SECTIONS","services","ListTasks","props","onRepairWheel","e","car","mechanic","position","setError","showTasks","setLoading","setScore","actionWheels","id","target","innerText","toLowerCase","then","response","onUpdate","data","catch","error","code","message","finally","state","setStatus","checkCar","status","ready","history","push","wheel_tasks","map","task","i","Component"],"mappings":"4lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,KAAT,KAAsB,iBAAtB,CACA,OAASC,eAAT,CAA0BC,UAA1B,KAA4C,cAA5C,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,sBAA1B,C,GAEMC,CAAAA,S,kHACL,mBAAYC,KAAZ,CAAmB,2CAClB,uBAAMA,KAAN,EADkB,MAKnBC,aALmB,CAKH,SAACC,CAAD,CAAO,iBASlB,MAAKF,KATa,CAErBG,GAFqB,aAErBA,GAFqB,CAGrBC,QAHqB,aAGrBA,QAHqB,CAIrBC,QAJqB,aAIrBA,QAJqB,CAKrBC,QALqB,aAKrBA,QALqB,CAMrBC,SANqB,aAMrBA,SANqB,CAOrBC,UAPqB,aAOrBA,UAPqB,CAQrBC,QARqB,aAQrBA,QARqB,CAWtBF,SAAS,CAAC,KAAD,CAAT,CACAC,UAAU,CAAC,IAAD,CAAV,CACAV,QAAQ,CAACY,YAAT,CAAsBP,GAAG,CAACQ,EAA1B,CAA8BP,QAA9B,CAAwCC,QAAxC,CAAkDH,CAAC,CAACU,MAAF,CAASC,SAAT,CAAmBC,WAAnB,EAAlD,EACEC,IADF,CACO,SAACC,QAAD,CAAc,CACnB,MAAKC,QAAL,CAAcD,QAAQ,CAACE,IAAvB,EACAT,QAAQ,CAAC,CAAD,CAAR,CACA,CAJF,EAKEU,KALF,CAKQ,SAACC,KAAD,QAAWd,CAAAA,QAAQ,YAAKc,KAAK,CAACJ,QAAN,CAAeE,IAAf,CAAoBG,IAAzB,gBAAoCD,KAAK,CAACJ,QAAN,CAAeE,IAAf,CAAoBI,OAAxD,EAAnB,EALR,EAMEC,OANF,CAMU,iBAAMf,CAAAA,UAAU,CAAC,KAAD,CAAhB,EANV,EAOA,CAzBkB,CAElB,MAAKgB,KAAL,CAAa,EAAb,CAFkB,aAGlB,C,gEAwBQN,I,CAAM,kCACuB,KAAKlB,KAD5B,CACNG,GADM,cACNA,GADM,CACDsB,SADC,cACDA,SADC,CACUnB,QADV,cACUA,QADV,CAEdA,QAAQ,CAAC,IAAD,CAAR,CACAmB,SAAS,CAACP,IAAD,CAAT,CAEApB,QAAQ,CAAC4B,QAAT,CAAkBvB,GAAG,CAACQ,EAAtB,EACEI,IADF,CACO,SAACY,MAAD,CAAY,CAChBA,MAAM,CAACT,IAAP,CAAYU,KAAb,EACC,MAAI,CAAC5B,KAAL,CAAW6B,OAAX,CAAmBC,IAAnB,CAAwBjC,QAAQ,CAAC,CAAD,CAAhC,CADD,CAEA,CAJF,EAKA,C,uCAEQ,oBACAkC,CAAAA,WADA,CACgB,KAAK/B,KADrB,CACA+B,WADA,CAGR,mBACC,oBAAC,eAAD,MAEGA,WAAD,EACCrC,KAAK,CAACsC,GAAN,CAAU,SAACC,IAAD,CAAOC,CAAP,qBACT,oBAAC,UAAD,EAAY,GAAG,CAAEA,CAAjB,CAAoB,OAAO,CAAE,MAAI,CAACjC,aAAlC,CAAiD,IAAI,CAAEgC,IAAvD,EAA8DA,IAA9D,CADS,EAAV,CAHH,CADD,CAWA,C,uBAtDsBzC,KAAK,CAAC2C,S,EA0D9B,cAAe1C,CAAAA,UAAU,CAACM,SAAD,CAAzB","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { TASKS } from '../constants.js';\nimport { StyledListTasks, StyledTask } from './styled.jsx';\nimport { SECTIONS } from '../constants.js';\nimport * as services from '../utils/services.js';\n\nclass ListTasks extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tonRepairWheel = (e) => {\n\t\tconst { \n\t\t\tcar, \n\t\t\tmechanic, \n\t\t\tposition, \n\t\t\tsetError, \n\t\t\tshowTasks, \n\t\t\tsetLoading, \n\t\t\tsetScore,\n\t\t} = this.props;\n\n\t\tshowTasks(false);\n\t\tsetLoading(true);\n\t\tservices.actionWheels(car.id, mechanic, position, e.target.innerText.toLowerCase())\n\t\t\t.then((response) => {\n\t\t\t\tthis.onUpdate(response.data);\n\t\t\t\tsetScore(5);\n\t\t\t})\n\t\t\t.catch((error) => setError(`(${error.response.data.code}) - ${error.response.data.message}`))\n\t\t\t.finally(() => setLoading(false))\n\t}\n\n\tonUpdate(data) {\n\t\tconst { car, setStatus, setError } = this.props;\n\t\tsetError(null);\n\t\tsetStatus(data);\n\n\t\tservices.checkCar(car.id)\n\t\t\t.then((status) => {\n\t\t\t\t(status.data.ready) && \n\t\t\t\t this.props.history.push(SECTIONS[2]);\n\t\t\t})\n\t}\n\n\trender() {\n\t\tconst { wheel_tasks } = this.props;\n\n\t\treturn(\n\t\t\t<StyledListTasks>\n\t\t\t\t{\n\t\t\t\t\t(wheel_tasks) &&\n\t\t\t\t\t\tTASKS.map((task, i) =>\n\t\t\t\t\t\t\t<StyledTask key={i} onClick={this.onRepairWheel} data={task}>{task}</StyledTask>\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</StyledListTasks>\n\t\t);\n\n\t}\n\n}\n\nexport default withRouter(ListTasks);\n"]},"metadata":{},"sourceType":"module"}